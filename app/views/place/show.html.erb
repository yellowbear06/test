<div class="body-container">
  <div class="place-details">
    <section class="place-info performance-facts">
      <header class="place-info-header">
        <h1 class="place-info-title"><%= @place.name %></h1>
          <p><%= @place.eng_name %></p>
      </header>
      <table class="place-info-table">
        <tbody>
          <tr>
            <th><b><%= t('.address') %></b></th>
            <td colspan="2" id="address"><%= @place.address %></td>
          </tr>
          <tr class="thick-row">
            <td colspan="3" class="small-info"><b><%= @place.eng_address %></b></td>
          </tr>
          <tr>
            <th colspan="2"><b><%= t('.website') %></b></th>
            <td><b><%= link_to "website", @website %></b></td>
          </tr>
          <tr>
            <th colspan="2"><b><%= t('.phone') %></b></th>
            <td><b><%= @phone %></b></td>
          </tr>
          <tr>
            <th colspan="2"><b>Links</b></th>
            <td></td>
          </tr>
          <tr>
            <td class="blank-cell"></td>
            <th>instagram</th>
            <td><b>4%</b></td>
          </tr>
          <tr>
            <td colspan="2"><%= t(VegetarianType.human_attribute_name(:name)) %></td>
            <td><%= @place.category %></td>
          </tr>
          <tr class="thick-end">
            <th colspan="2"><b>料理の種類</b></th>
            <td><%= @categories.first %></td>
          </tr>
        </tbody>
        <tfoot class="small-info">
          <tr>
            <td class="blank-cell"></td>
            <th></th>
            <td><%= t('.opening_hours') %></td>
          </tr>
          <% @opening_hours.each do |hour| %>
          <tr>
            <td class="blank-cell"></td>
            <th><b></b></th>
            <td><%= hour %></td>
          </tr>
          <% end %>
        </tfoot>
      </table>
      <p class="small-info text-center">
        <%= link_to t('defaults.edit'), edit_place_path(@place) %> &bull; Carbohydrate 4 &bull; Protein 4
      </p>
    </section>
    <!--   <% @photos.each do |photo| %>
    <% photo_url = "https://maps.googleapis.com/maps/api/place/photo?photoreference=#{photo['photo_reference']}&sensor=false&maxheight=400&maxwidth=600&key=#{ENV['GOOGLE_MAPS_API_KEY']}" %>
    <%= image_tag(photo_url) %>
    <% end %> -->
    <div class="place-content">
      <% photo = @photos.first %>
      <% photo_url = "https://maps.googleapis.com/maps/api/place/photo?photoreference=#{photo['photo_reference']}&sensor=false&maxheight=400&maxwidth=600&key=#{ENV['GOOGLE_MAPS_API_KEY']}" %>
      <%= image_tag(photo_url) %>
      <div id="gmap" style="height:100%; width:100%;"></div> <!-- 地図を表示する領域 -->
    </div>
  </div>
</div>
<!-- <script>
function initMap() {
var target = document.getElementById('gmap');  
var address = document.getElementById('address').textContent; 
var geocoder = new google.maps.Geocoder();  

geocoder.geocode({ address: address }, function(results, status){
   if (status === 'OK' && results[0]){  
     //マップのインスタンスを変数に代入
      var map = new google.maps.Map(target, {  
        center: results[0].geometry.location,
        zoom: 14
      });
      console.log(results[0]);
     //マーカーの生成
      var marker = new google.maps.Marker({
        position: results[0].geometry.location,
        map: map,
        animation: google.maps.Animation.DROP
      });
     
     //情報ウィンドウの生成
      var contentString =
        '<div>' +
          '<h2>' + gon.place['name'] + '</h2>' +
          '<p>住所 ' + results[0]['formatted_address'] + '</p>' +
        '</div>';

      var infoWindow = new google.maps.InfoWindow({
        content: contentString,
        pixelOffset: new google.maps.Size(0, 5)
      });

     //マーカーにリスナーを設定
     marker.addListener('click', function(){
        infoWindow.open(map, marker);
      });
     
   }else{ 
     alert('失敗しました。理由: ' + status);
     return;
   }
});
}
</script> 
<script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_MAPS_API_KEY'] %>&libraries=places&callback=initMap" async defer></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script> -->

</div>

